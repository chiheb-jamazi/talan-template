<app-navbar></app-navbar>

<div class="card-body">
  <!-----------------------------------------FORM ADD DOCTORS----------------------------------------->

  <div class="row gutters-sm">
    <div class="col-md-4 mb-3">
      <div class="card h-100">
        <div class="card-body">

          <div class="wrapper row3">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="../../assets/images/doctor.png" style="width: 90px; height: 90px;"><br>
              <h4 style="color: grey;">ADD A DOCTOR</h4>
            </div>

            <main class="hoc container clear">

              <div class="content">

                <div id="comments">


                  <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm"
                    novalidate>
                    <div>
                      <label for="name">username <span>*</span></label>
                      <input type="text" class="form-control" name="username" [(ngModel)]="form.username" required
                        minlength="3" maxlength="20" #username="ngModel" placeholder="Username">
                      <div class="alert-danger" *ngIf="f.submitted && username.invalid">
                        <div *ngIf="username.errors">Username is required</div>
                        <div *ngIf="username.errors">
                          Username must be at least 3 characters
                        </div>
                        <div *ngIf="username.errors">
                          Username must be at most 20 characters
                        </div>
                      </div>
                    </div>


                    <div>
                      <label for="email">Mail <span>*</span></label>
                      <input type="email" class="form-control" name="email" [(ngModel)]="form.email" required email
                        #email="ngModel" placeholder="Email">
                      <div class="alert-danger" *ngIf="f.submitted && email.invalid">
                        <div *ngIf="email.errors">Email is required</div>
                        <div *ngIf="email.errors">
                          Email must be a valid email address
                        </div>
                      </div>
                    </div>
                    <div>
                      <label for="url">password <span>*</span></label>
                      <input type="password" class="form-control" name="password" [(ngModel)]="form.password" required
                        minlength="6" #password="ngModel" placeholder="Password">
                      <div class="alert-danger" *ngIf="f.submitted && password.invalid">
                        <div *ngIf="password.errors">Password is required</div>
                        <div *ngIf="password.errors">
                          Password must be at least 6 characters
                        </div>
                      </div>
                    </div>

                    <div class="form-group center">
                      <button class="btn">I Confirm</button>
                    </div>

                    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                      Failed to add doctor :(<br />{{ errorMessage }}
                    </div>

                    <div class="alert alert-success" *ngIf="isSuccessful">
                      Doctor added :)
                    </div>

                  </form>
                </div>

              </div>

            </main>
          </div>

        </div>
      </div>
    </div>



    <!-----------------------------------------TABLE DOCTORS----------------------------------------->
    <div class="col-sm-8 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h6 class="align-items-center mb-3 center" style="color: grey;">DOCTORS LIST</h6>

          <table class="scrollable">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Doctor's id</th>
                <th scope="col">Doctor's username</th>
   
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let R of Listuser; let i = index ">
                <ng-container *ngIf="R.roles[0].name=='ROLE_MODERATOR'">

                  <td>{{R.id}}</td>
                  <td>{{R.username}}</td>
              <td><button (click)="DeleteDoctor(R.id)">X</button></td>

                </ng-container>

              </tr>
            </tbody>
          </table>

        </div>
      </div>
    </div>
  </div>

  <!------------------------------------------------------------------------------------------>

</div>

<app-footer></app-footer>